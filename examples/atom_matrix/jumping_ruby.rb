require 'ws2812'

# Atom Matrix: 5x5 LED matrix on GPIO 27
led = WS2812.new(pin: 27, num: 25)

# Ruby logo patterns for 5x5 matrix
# 0x000000: black, 0xFF0000: red
FRAME1 = [
  0x000000, 0xFF0000, 0xFF0000, 0xFF0000, 0x000000,
  0xFF0000, 0xFF0000, 0xFF0000, 0xFF0000, 0xFF0000,
  0x000000, 0xFF0000, 0xFF0000, 0xFF0000, 0x000000,
  0x000000, 0x000000, 0xFF0000, 0x000000, 0x000000,
  0x000000, 0x000000, 0x000000, 0x000000, 0x000000
]

FRAME2 = [
  0x000000, 0x000000, 0x000000, 0x000000, 0x000000,
  0x000000, 0xFF0000, 0xFF0000, 0xFF0000, 0x000000,
  0xFF0000, 0xFF0000, 0xFF0000, 0xFF0000, 0xFF0000,
  0x000000, 0xFF0000, 0xFF0000, 0xFF0000, 0x000000,
  0x000000, 0x000000, 0xFF0000, 0x000000, 0x000000
]

def show_frame(led, frame)
  frame.each_with_index do |color, i|
    led.set_hex(i, color)
  end
  led.show
end

loop do
  show_frame(led, FRAME1)
  sleep 1

  show_frame(led, FRAME2)
  sleep 1
end
